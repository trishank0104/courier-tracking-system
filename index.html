<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courier Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        .feature-card {
            transition: transform 0.3s;
            margin-bottom: 20px;
        }
        .feature-card:hover {
            transform: translateY(-10px);
        }
        .login-modal .nav-link {
            color: #495057;
        }
        .login-modal .nav-link.active {
            color: #0d6efd;
            font-weight: bold;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">CourierPro</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('home')">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('about')">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('contact')">Contact Us</a>
                    </li>
                </ul>
                <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home-section" class="hero-section">
        <div class="container">
            <h1 class="display-4">Fast & Reliable Courier Services</h1>
            <p class="lead">Track your shipments in real-time with our advanced management system</p>
            <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#loginModal">Get Started</button>
        </div>
    </section>

    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Our Services</h2>
            <div class="row">
                <div class="col-md-4">
                    <div class="card feature-card">
                        <div class="card-body text-center">
                            <h3><i class="bi bi-truck"></i> Fast Delivery</h3>
                            <p>Same-day and next-day delivery options available for urgent shipments.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card">
                        <div class="card-body text-center">
                            <h3><i class="bi bi-geo-alt"></i> Real-time Tracking</h3>
                            <p>Track your package every step of the way with our live tracking system.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card">
                        <div class="card-body text-center">
                            <h3><i class="bi bi-shield-check"></i> Secure Handling</h3>
                            <p>Your items are handled with care and delivered securely to their destination.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about-section" class="py-5 bg-light hidden">
        <div class="container">
            <h2 class="text-center mb-5">About Us</h2>
            <div class="row">
                <div class="col-md-6">
                    <h3>Our Story</h3>
                    <p>Founded in 2023, CourierPro has been revolutionizing the logistics industry with our innovative approach to package delivery and tracking. We started with a simple mission: to make shipping faster, more reliable, and completely transparent.</p>
                    <p>Today, we serve thousands of customers across the country with our network of dedicated delivery professionals and state-of-the-art tracking technology.</p>
                </div>
                <div class="col-md-6">
                    <h3>Our Team</h3>
                    <p>Our team consists of logistics experts, technology innovators, and customer service professionals who are passionate about delivering excellence. We believe that every package represents someone's important item, and we treat each one with the care it deserves.</p>
                    <p>With decades of combined experience in the industry, we're proud to offer services that set new standards for speed and reliability.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact-section" class="py-5 hidden">
        <div class="container">
            <h2 class="text-center mb-5">Contact Us</h2>
            <div class="row">
                <div class="col-md-6">
                    <h3>Get in Touch</h3>
                    <p>Have questions about our services? Need help with a shipment? Our customer service team is here to help.</p>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-geo-alt"></i> 123 Delivery Street, Logistics City, LC 12345</li>
                        <li><i class="bi bi-telephone"></i> (123) 456-7890</li>
                        <li><i class="bi bi-envelope"></i> support@courierpro.com</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <form>
                        <div class="mb-3">
                            <label for="name" class="form-label">Name</label>
                            <input type="text" class="form-control" id="name">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email">
                        </div>
                        <div class="mb-3">
                            <label for="message" class="form-label">Message</label>
                            <textarea class="form-control" id="message" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Login to CourierPro</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs mb-3" id="loginTabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#customerLogin">Customer</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#deliveryLogin">Delivery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#adminLogin">Admin</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#signupTab">Sign Up</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Customer Login -->
                        <div class="tab-pane fade show active" id="customerLogin">
                            <form id="customerLoginForm">
                                <div class="mb-3">
                                    <label for="customerEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="customerEmail" required>
                                </div>
                                <div class="mb-3">
                                    <label for="customerPassword" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="customerPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Login</button>
                            </form>
                        </div>
                        
                        <!-- Delivery Login -->
                        <div class="tab-pane fade" id="deliveryLogin">
                            <form id="deliveryLoginForm">
                                <div class="mb-3">
                                    <label for="deliveryEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="deliveryEmail" required>
                                </div>
                                <div class="mb-3">
                                    <label for="deliveryPassword" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="deliveryPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Login</button>
                            </form>
                        </div>
                        
                        <!-- Admin Login -->
                        <div class="tab-pane fade" id="adminLogin">
                            <form id="adminLoginForm">
                                <div class="mb-3">
                                    <label for="adminUsername" class="form-label">Username</label>
                                    <input type="text" class="form-control" id="adminUsername" required>
                                </div>
                                <div class="mb-3">
                                    <label for="adminPassword" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="adminPassword" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Login</button>
                            </form>
                        </div>
                        
                        <!-- Signup -->
                        <div class="tab-pane fade" id="signupTab">
                            <form id="signupForm">
                                <div class="mb-3">
                                    <label for="signupName" class="form-label">Full Name</label>
                                    <input type="text" class="form-control" id="signupName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="signupPhone" class="form-label">Phone Number</label>
                                    <input type="tel" class="form-control" id="signupPhone" required>
                                </div>
                                <div class="mb-3">
                                    <label for="signupEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="signupEmail" required>
                                </div>
                                <div class="mb-3">
                                    <label for="signupAddress" class="form-label">Address</label>
                                    <textarea class="form-control" id="signupAddress" rows="2" required></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="signupPassword" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="signupPassword" required>
                                </div>
                                <button type="submit" class="btn btn-success w-100">Register</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Dashboard (hidden initially) -->
    <div id="customerDashboard" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="#">Customer Dashboard</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#customerNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="customerNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showCustomerSection('dashboard')">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showCustomerSection('placeOrder')">Place Order</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showCustomerSection('trackOrder')">Track Order</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showCustomerSection('feedback')">Feedback</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showCustomerSection('raiseIssue')">Raise Issue</a>
                        </li>
                    </ul>
                    <button class="btn btn-outline-light" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container mt-4">
            <!-- Customer Dashboard Content -->
            <div id="customerDashboardContent">
                <h2>Welcome, <span id="customerName"></span></h2>
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Recent Orders</h5>
                                <div id="recentOrders"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Order Statistics</h5>
                                <canvas id="orderChart" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Place Order -->
            <div id="placeOrderContent" class="hidden">
                <h2>Place New Order</h2>
                <form id="placeOrderForm">
                    <div class="mb-3">
                        <label for="packageDescription" class="form-label">Package Description</label>
                        <textarea class="form-control" id="packageDescription" rows="3" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="deliveryAddress" class="form-label">Delivery Address</label>
                        <textarea class="form-control" id="deliveryAddress" rows="2" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="recipientPhone" class="form-label">Recipient Phone</label>
                        <input type="tel" class="form-control" id="recipientPhone" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Place Order</button>
                </form>
            </div>

            <!-- Track Order -->
            <div id="trackOrderContent" class="hidden">
                <h2>Track Your Order</h2>
                <div class="mb-3">
                    <label for="orderIdToTrack" class="form-label">Order ID</label>
                    <input type="text" class="form-control" id="orderIdToTrack">
                    <button class="btn btn-primary mt-2" onclick="trackOrder()">Track</button>
                </div>
                <div id="orderTrackingDetails" class="mt-4"></div>
            </div>

            <!-- Feedback -->
            <div id="feedbackContent" class="hidden">
                <h2>Provide Feedback</h2>
                <form id="feedbackForm">
                    <div class="mb-3">
                        <label for="feedbackOrderId" class="form-label">Order ID</label>
                        <input type="text" class="form-control" id="feedbackOrderId" required>
                    </div>
                    <div class="mb-3">
                        <label for="feedbackText" class="form-label">Your Feedback</label>
                        <textarea class="form-control" id="feedbackText" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Feedback</button>
                </form>
                <div id="previousFeedback" class="mt-4"></div>
            </div>

            <!-- Raise Issue -->
            <div id="raiseIssueContent" class="hidden">
                <h2>Raise an Issue</h2>
                <form id="raiseIssueForm">
                    <div class="mb-3">
                        <label for="issueMessage" class="form-label">Describe your issue</label>
                        <textarea class="form-control" id="issueMessage" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Issue</button>
                </form>
                <div id="previousIssues" class="mt-4"></div>
            </div>
        </div>
    </div>

    <!-- Delivery Dashboard (hidden initially) -->
    <div id="deliveryDashboard" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark bg-success">
            <div class="container">
                <a class="navbar-brand" href="#">Delivery Dashboard</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#deliveryNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="deliveryNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showDeliverySection('assignedOrders')">Assigned Orders</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showDeliverySection('updateStatus')">Update Status</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showDeliverySection('deliveryHistory')">Delivery History</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showDeliverySection('raiseIssue')">Raise Issue</a>
                        </li>
                    </ul>
                    <button class="btn btn-outline-light" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container mt-4">
            <!-- Assigned Orders -->
            <div id="assignedOrdersContent">
                <h2>Your Assigned Orders</h2>
                <div id="assignedOrdersList"></div>
            </div>

            <!-- Update Status -->
            <div id="updateStatusContent" class="hidden">
                <h2>Update Order Status</h2>
                <form id="updateStatusForm">
                    <div class="mb-3">
                        <label for="statusOrderId" class="form-label">Order ID</label>
                        <input type="text" class="form-control" id="statusOrderId" required>
                    </div>
                    <div class="mb-3">
                        <label for="orderStatus" class="form-label">Status</label>
                        <select class="form-select" id="orderStatus" required>
                            <option value="Pending">Pending</option>
                            <option value="Picked Up">Picked Up</option>
                            <option value="In Transit">In Transit</option>
                            <option value="Delivered">Delivered</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="orderLocation" class="form-label">Current Location</label>
                        <input type="text" class="form-control" id="orderLocation">
                    </div>
                    <button type="submit" class="btn btn-primary">Update Status</button>
                </form>
            </div>

            <!-- Delivery History -->
            <div id="deliveryHistoryContent" class="hidden">
                <h2>Your Delivery History</h2>
                <div id="deliveryHistoryList"></div>
            </div>

            <!-- Raise Issue -->
            <div id="deliveryRaiseIssueContent" class="hidden">
                <h2>Raise an Issue</h2>
                <form id="deliveryRaiseIssueForm">
                    <div class="mb-3">
                        <label for="deliveryIssueMessage" class="form-label">Describe your issue</label>
                        <textarea class="form-control" id="deliveryIssueMessage" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Issue</button>
                </form>
                <div id="deliveryPreviousIssues" class="mt-4"></div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard (hidden initially) -->
    <div id="adminDashboard" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
            <div class="container">
                <a class="navbar-brand" href="#">Admin Dashboard</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#adminNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="adminNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showAdminSection('dashboard')">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showAdminSection('manageUsers')">Manage Users</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showAdminSection('manageOrders')">Manage Orders</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showAdminSection('assignDelivery')">Assign Delivery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showAdminSection('manageIssues')">Manage Issues</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showAdminSection('registerUser')">Register User</a>
                        </li>
                    </ul>
                    <button class="btn btn-outline-light" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container mt-4">
            <!-- Admin Dashboard Content -->
            <div id="adminDashboardContent">
                <h2>Admin Overview</h2>
                <div class="row mt-4">
                    <div class="col-md-3">
                        <div class="card text-white bg-primary mb-3">
                            <div class="card-body">
                                <h5 class="card-title">Total Customers</h5>
                                <p class="card-text display-6" id="totalCustomers">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-success mb-3">
                            <div class="card-body">
                                <h5 class="card-title">Total Delivery Persons</h5>
                                <p class="card-text display-6" id="totalDeliveryPersons">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-warning mb-3">
                            <div class="card-body">
                                <h5 class="card-title">Pending Orders</h5>
                                <p class="card-text display-6" id="pendingOrders">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-white bg-danger mb-3">
                            <div class="card-body">
                                <h5 class="card-title">Open Issues</h5>
                                <p class="card-text display-6" id="openIssues">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Recent Orders</h5>
                                <div id="adminRecentOrders"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Recent Issues</h5>
                                <div id="adminRecentIssues"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manage Users -->
            <div id="manageUsersContent" class="hidden">
                <h2>Manage Users</h2>
                <ul class="nav nav-tabs" id="usersTab">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#customersTab">Customers</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#deliveryTab">Delivery Persons</a>
                    </li>
                </ul>
                <div class="tab-content mt-3">
                    <div class="tab-pane fade show active" id="customersTab">
                        <div id="customersList"></div>
                    </div>
                    <div class="tab-pane fade" id="deliveryTab">
                        <div id="deliveryPersonsList"></div>
                    </div>
                </div>
            </div>

            <!-- Manage Orders -->
            <div id="manageOrdersContent" class="hidden">
                <h2>Manage Orders</h2>
                <div class="mb-3">
                    <label for="orderFilter" class="form-label">Filter by Status:</label>
                    <select class="form-select" id="orderFilter" onchange="filterOrders()">
                        <option value="all">All Orders</option>
                        <option value="Pending">Pending</option>
                        <option value="Picked Up">Picked Up</option>
                        <option value="In Transit">In Transit</option>
                        <option value="Delivered">Delivered</option>
                    </select>
                </div>
                <div id="ordersList"></div>
            </div>

            <!-- Assign Delivery -->
            <div id="assignDeliveryContent" class="hidden">
                <h2>Assign Delivery Person</h2>
                <form id="assignDeliveryForm">
                    <div class="mb-3">
                        <label for="orderToAssign" class="form-label">Order ID</label>
                        <input type="text" class="form-control" id="orderToAssign" required>
                    </div>
                    <div class="mb-3">
                        <label for="deliveryPersonToAssign" class="form-label">Delivery Person</label>
                        <select class="form-select" id="deliveryPersonToAssign" required></select>
                    </div>
                    <button type="submit" class="btn btn-primary">Assign</button>
                </form>
            </div>

            <!-- Manage Issues -->
            <div id="manageIssuesContent" class="hidden">
                <h2>Manage Issues</h2>
                <ul class="nav nav-tabs" id="issuesTab">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#openIssuesTab">Open Issues</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#resolvedIssuesTab">Resolved Issues</a>
                    </li>
                </ul>
                <div class="tab-content mt-3">
                    <div class="tab-pane fade show active" id="openIssuesTab">
                        <div id="openIssuesList"></div>
                    </div>
                    <div class="tab-pane fade" id="resolvedIssuesTab">
                        <div id="resolvedIssuesList"></div>
                    </div>
                </div>
            </div>

            <!-- Register User -->
            <div id="registerUserContent" class="hidden">
                <h2>Register New User</h2>
                <form id="registerUserForm">
                    <div class="mb-3">
                        <label for="userRole" class="form-label">User Role</label>
                        <select class="form-select" id="userRole" required>
                            <option value="admin">Admin</option>
                            <option value="delivery_person">Delivery Person</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="newUserName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="newUserName" required>
                    </div>
                    <div class="mb-3">
                        <label for="newUserEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="newUserEmail" required>
                    </div>
                    <div class="mb-3">
                        <label for="newUserPassword" class="form-label">Password</label>
                        <input type="password" class="form-control" id="newUserPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Register User</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>CourierPro</h5>
                    <p>Fast, reliable, and secure courier services for all your shipping needs.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white" onclick="showSection('home')">Home</a></li>
                        <li><a href="#" class="text-white" onclick="showSection('about')">About Us</a></li>
                        <li><a href="#" class="text-white" onclick="showSection('contact')">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact</h5>
                    <address>
                        Vadlamudi<br>
                        Guntur City, LC 12345<br>
                        <i class="bi bi-phone"></i> (123) 456-7890
                    </address>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2025 CourierPro. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Global variables
        let currentUser = null;
        let currentToken = null;

        // Show different sections
        function showSection(section) {
            document.getElementById('home-section').classList.add('hidden');
            document.getElementById('about-section').classList.add('hidden');
            document.getElementById('contact-section').classList.add('hidden');
            
            document.getElementById(`${section}-section`).classList.remove('hidden');
        }

        // Customer sections
        function showCustomerSection(section) {
            document.getElementById('customerDashboardContent').classList.add('hidden');
            document.getElementById('placeOrderContent').classList.add('hidden');
            document.getElementById('trackOrderContent').classList.add('hidden');
            document.getElementById('feedbackContent').classList.add('hidden');
            document.getElementById('raiseIssueContent').classList.add('hidden');
            
            document.getElementById(`${section}Content`).classList.remove('hidden');
        }

        // Delivery sections
        function showDeliverySection(section) {
            document.getElementById('assignedOrdersContent').classList.add('hidden');
            document.getElementById('updateStatusContent').classList.add('hidden');
            document.getElementById('deliveryHistoryContent').classList.add('hidden');
            document.getElementById('deliveryRaiseIssueContent').classList.add('hidden');
            
            document.getElementById(`${section}Content`).classList.remove('hidden');
        }

        // Admin sections
        function showAdminSection(section) {
            document.getElementById('adminDashboardContent').classList.add('hidden');
            document.getElementById('manageUsersContent').classList.add('hidden');
            document.getElementById('manageOrdersContent').classList.add('hidden');
            document.getElementById('assignDeliveryContent').classList.add('hidden');
            document.getElementById('manageIssuesContent').classList.add('hidden');
            document.getElementById('registerUserContent').classList.add('hidden');
            
            document.getElementById(`${section}Content`).classList.remove('hidden');
        }

        // Login functions
        document.getElementById('customerLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            login('customer', document.getElementById('customerEmail').value, document.getElementById('customerPassword').value);
        });

        document.getElementById('deliveryLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            login('delivery_person', document.getElementById('deliveryEmail').value, document.getElementById('deliveryPassword').value);
        });

        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            login('admin', document.getElementById('adminUsername').value, document.getElementById('adminPassword').value);
        });

        // Signup function
        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            signup();
        });

        // Login function
        function login(role, email, password) {
            fetch('http://localhost:5000/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: email,
                    password: password,
                    role: role
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                    return;
                }
                
                currentToken = data.token;
                currentUser = {
                    id: data.id,
                    role: data.role
                };
                
                // Hide login modal
                const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                loginModal.hide();
                
                // Show appropriate dashboard
                document.getElementById('home-section').classList.add('hidden');
                document.getElementById('about-section').classList.add('hidden');
                document.getElementById('contact-section').classList.add('hidden');
                
                if (data.role === 'customer') {
                    document.getElementById('customerDashboard').classList.remove('hidden');
                    loadCustomerDashboard(data.id);
                } else if (data.role === 'delivery_person') {
                    document.getElementById('deliveryDashboard').classList.remove('hidden');
                    loadDeliveryDashboard(data.id);
                } else if (data.role === 'admin') {
                    document.getElementById('adminDashboard').classList.remove('hidden');
                    loadAdminDashboard();
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Login failed. Please try again.');
            });
        }

        // Signup function
        function signup() {
            const name = document.getElementById('signupName').value;
            const phone = document.getElementById('signupPhone').value;
            const email = document.getElementById('signupEmail').value;
            const address = document.getElementById('signupAddress').value;
            const password = document.getElementById('signupPassword').value;
            
            fetch('http://localhost:5000/signup', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: name,
                    phone: phone,
                    email: email,
                    address: address,
                    password: password
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                    return;
                }
                
                alert('Registration successful! Please login.');
                const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                const tab = new bootstrap.Tab(document.querySelector('#loginTabs .nav-link'));
                tab.show();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Registration failed. Please try again.');
            });
        }

        // Logout function
        function logout() {
            currentToken = null;
            currentUser = null;
            
            // Hide all dashboards
            document.getElementById('customerDashboard').classList.add('hidden');
            document.getElementById('deliveryDashboard').classList.add('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
            
            // Show home page
            document.getElementById('home-section').classList.remove('hidden');
        }

        // Load customer dashboard
        function loadCustomerDashboard(customerId) {
            fetch('http://localhost:5000/customer/track-order/' + customerId, {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.order) {
                    document.getElementById('customerName').textContent = 'Customer #' + customerId;
                    
                    // Display recent orders (simplified for demo)
                    const recentOrdersDiv = document.getElementById('recentOrders');
                    recentOrdersDiv.innerHTML = `
                        <p>Order ID: ${data.order.order_id}</p>
                        <p>Status: ${data.order.status}</p>
                    `;
                    
                    // Initialize chart (simplified for demo)
                    const ctx = document.getElementById('orderChart').getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: ['Pending', 'In Transit', 'Delivered'],
                            datasets: [{
                                label: 'Your Orders',
                                data: [1, 0, 0], // Sample data
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.2)',
                                    'rgba(54, 162, 235, 0.2)',
                                    'rgba(75, 192, 192, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(75, 192, 192, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
            });
        }

        // Load delivery dashboard
        function loadDeliveryDashboard(deliveryPersonId) {
            fetch('http://localhost:5000/delivery/assigned-orders', {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                const assignedOrdersList = document.getElementById('assignedOrdersList');
                if (data.assigned_orders && data.assigned_orders.length > 0) {
                    assignedOrdersList.innerHTML = data.assigned_orders.map(order => `
                        <div class="card mb-3">
                            <div class="card-body">
                                <h5>Order #${order.order_id}</h5>
                                <p>Customer ID: ${order.customer_id}</p>
                                <p>Status: ${order.status}</p>
                            </div>
                        </div>
                    `).join('');
                } else {
                    assignedOrdersList.innerHTML = '<p>No assigned orders found.</p>';
                }
            });
        }

        // Load admin dashboard
        function loadAdminDashboard() {
            // Load users
            fetch('http://localhost:5000/admin/users', {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('totalCustomers').textContent = data.customers.length;
                document.getElementById('totalDeliveryPersons').textContent = data.delivery_persons.length;
                
                // Populate customer list
                const customersList = document.getElementById('customersList');
                customersList.innerHTML = data.customers.map(customer => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5>${customer.name}</h5>
                            <p>Email: ${customer.email}</p>
                            <p>Phone: ${customer.phone}</p>
                            <button class="btn btn-danger btn-sm" onclick="deleteUser('customer', ${customer.customer_id})">Delete</button>
                        </div>
                    </div>
                `).join('');
                
                // Populate delivery persons list
                const deliveryPersonsList = document.getElementById('deliveryPersonsList');
                deliveryPersonsList.innerHTML = data.delivery_persons.map(delivery => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5>${delivery.name}</h5>
                            <p>Email: ${delivery.email}</p>
                            <button class="btn btn-danger btn-sm" onclick="deleteUser('delivery_person', ${delivery.delivery_person_id})">Delete</button>
                        </div>
                    </div>
                `).join('');
            });
            
            // Load orders
            fetch('http://localhost:5000/admin/orders', {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('pendingOrders').textContent = data.orders.filter(o => o.status === 'Pending').length;
                
                // Populate orders list
                const ordersList = document.getElementById('ordersList');
                ordersList.innerHTML = data.orders.map(order => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5>Order #${order.order_id}</h5>
                            <p>Customer ID: ${order.customer_id}</p>
                            <p>Assigned To: ${order.assigned_to || 'Not assigned'}</p>
                            <p>Status: ${order.status}</p>
                        </div>
                    </div>
                `).join('');
                
                // Populate recent orders
                const adminRecentOrders = document.getElementById('adminRecentOrders');
                adminRecentOrders.innerHTML = data.orders.slice(0, 3).map(order => `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h6>Order #${order.order_id}</h6>
                            <p>Status: ${order.status}</p>
                        </div>
                    </div>
                `).join('');
            });
            
            // Load issues
            fetch('/admin/issues', {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('openIssues').textContent = data.issues.filter(i => i.status === 'open').length;
                
                // Populate issues lists
                const openIssuesList = document.getElementById('openIssuesList');
                openIssuesList.innerHTML = data.issues.filter(i => i.status === 'open').map(issue => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5>Issue #${issue.issue_id}</h5>
                            <p>From: ${issue.user_type} #${issue.user_id}</p>
                            <p>Message: ${issue.message}</p>
                            <form onsubmit="respondToIssue(${issue.issue_id}, this); return false;">
                                <div class="mb-3">
                                    <label class="form-label">Response</label>
                                    <textarea class="form-control" name="response" required>${issue.response || ''}</textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit Response</button>
                            </form>
                        </div>
                    </div>
                `).join('');
                
                const resolvedIssuesList = document.getElementById('resolvedIssuesList');
                resolvedIssuesList.innerHTML = data.issues.filter(i => i.status === 'resolved').map(issue => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5>Issue #${issue.issue_id}</h5>
                            <p>From: ${issue.user_type} #${issue.user_id}</p>
                            <p>Message: ${issue.message}</p>
                            <p>Response: ${issue.response}</p>
                        </div>
                    </div>
                `).join('');
                
                // Populate recent issues
                const adminRecentIssues = document.getElementById('adminRecentIssues');
                adminRecentIssues.innerHTML = data.issues.slice(0, 3).map(issue => `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h6>Issue #${issue.issue_id}</h6>
                            <p>Status: ${issue.status}</p>
                        </div>
                    </div>
                `).join('');
            });
            
            // Load delivery persons for assignment
            fetch('http://localhost:5000/admin/users', {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                const deliveryPersonSelect = document.getElementById('deliveryPersonToAssign');
                deliveryPersonSelect.innerHTML = data.delivery_persons.map(d => `
                    <option value="${d.delivery_person_id}">${d.name} (${d.email})</option>
                `).join('');
            });
        }

        // Customer place order
        document.getElementById('placeOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            fetch('http://localhost:5000/customer/place-order', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    // In a real app, you would send the form data
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Order placed successfully!');
                loadCustomerDashboard(currentUser.id);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to place order. Please try again.');
            });
        });

        // Track order
        function trackOrder() {
            const orderId = document.getElementById('orderIdToTrack').value;
            fetch('http://localhost:5000/customer/track-order/' + orderId, {
                headers: {
                    'Authorization': 'Bearer ' + currentToken
                }
            })
            .then(response => response.json())
            .then(data => {
                const orderTrackingDetails = document.getElementById('orderTrackingDetails');
                if (data.order) {
                    orderTrackingDetails.innerHTML = `
                        <div class="card">
                            <div class="card-body">
                                <h5>Order #${data.order.order_id}</h5>
                                <p>Status: ${data.order.status}</p>
                                <p>Assigned To: ${data.order.assigned_to || 'Not assigned yet'}</p>
                            </div>
                        </div>
                    `;
                } else {
                    orderTrackingDetails.innerHTML = '<p>Order not found or access denied</p>';
                }
            });
        }

        // Submit feedback
        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const orderId = document.getElementById('feedbackOrderId').value;
            const feedback = document.getElementById('feedbackText').value;
            
            fetch('http://localhost:5000/customer/feedback', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    order_id: orderId,
                    feedback: feedback
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Feedback submitted successfully!');
                document.getElementById('feedbackForm').reset();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to submit feedback. Please try again.');
            });
        });

        // Raise issue (customer)
        document.getElementById('raiseIssueForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const message = document.getElementById('issueMessage').value;
            
            fetch('http://localhost:5000/raise-issue', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    message: message
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Issue submitted successfully!');
                document.getElementById('raiseIssueForm').reset();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to submit issue. Please try again.');
            });
        });

        // Update order status (delivery)
        document.getElementById('updateStatusForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const orderId = document.getElementById('statusOrderId').value;
            const status = document.getElementById('orderStatus').value;
            const location = document.getElementById('orderLocation').value;
            
            fetch('http://localhost:5000/delivery/update-status', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    order_id: orderId,
                    status: status,
                    location: location
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Order status updated successfully!');
                loadDeliveryDashboard(currentUser.id);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to update order status. Please try again.');
            });
        });

        // Raise issue (delivery)
        document.getElementById('deliveryRaiseIssueForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const message = document.getElementById('deliveryIssueMessage').value;
            
            fetch('http://localhost:5000/raise-issue', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    message: message
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Issue submitted successfully!');
                document.getElementById('deliveryRaiseIssueForm').reset();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to submit issue. Please try again.');
            });
        });

        // Assign delivery (admin)
        document.getElementById('assignDeliveryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const orderId = document.getElementById('orderToAssign').value;
            const deliveryPersonId = document.getElementById('deliveryPersonToAssign').value;
            
            fetch('http://localhost:5000/admin/assign-delivery', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    order_id: orderId,
                    delivery_person_id: deliveryPersonId
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Delivery assigned successfully!');
                loadAdminDashboard();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to assign delivery. Please try again.');
            });
        });

        // Respond to issue (admin)
        function respondToIssue(issueId, form) {
            const response = form.response.value;
            
            fetch('http://localhost:5000/admin/issues/respond/' + issueId, {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    response: response,
                    status: 'resolved'
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('Response submitted successfully!');
                loadAdminDashboard();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to submit response. Please try again.');
            });
        }

        // Register user (admin)
        document.getElementById('registerUserForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const role = document.getElementById('userRole').value;
            const name = document.getElementById('newUserName').value;
            const email = document.getElementById('newUserEmail').value;
            const password = document.getElementById('newUserPassword').value;
            
            fetch('http://localhost:5000/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + currentToken
                },
                body: JSON.stringify({
                    name: name,
                    email: email,
                    password: password,
                    role: role
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('User registered successfully!');
                document.getElementById('registerUserForm').reset();
                loadAdminDashboard();
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to register user. Please try again.');
            });
        });

        // Delete user (admin)
        function deleteUser(userType, userId) {
            if (confirm(`Are you sure you want to delete this ${userType}?`)) {
                fetch('http://localhost:5000/admin/delete-user/' + userType + '/' + userId, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': 'Bearer ' + currentToken
                    }
                })
                .then(response => response.json())
                .then(data => {
                    alert(`${userType.charAt(0).toUpperCase() + userType.slice(1)} deleted successfully!`);
                    loadAdminDashboard();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert(`Failed to delete ${userType}. Please try again.`);
                });
            }
        }

        // Filter orders (admin)
        function filterOrders() {
            const filterValue = document.getElementById('orderFilter').value;
            const ordersList = document.getElementById('ordersList');
            
            // In a real app, you would fetch filtered data from the server
            // This is a simplified client-side filter for demo purposes
            const cards = ordersList.querySelectorAll('.card');
            cards.forEach(card => {
                const status = card.querySelector('p:last-child').textContent.replace('Status: ', '');
                if (filterValue === 'all' || status === filterValue) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Bootstrap components
            const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
            const loginTabs = new bootstrap.Tab(document.querySelector('#loginTabs .nav-link.active'));
            
            // Show home section by default
            showSection('home');
        });
    </script>
</body>
</html>